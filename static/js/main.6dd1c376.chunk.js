(this.webpackJsonpvaccine=this.webpackJsonpvaccine||[]).push([[0],{103:function(t){t.exports=JSON.parse('[{"id":"AL","val":"01","s":23},{"id":"AK","val":"02","s":10},{"id":"AS","val":"60","s":8},{"id":"AZ","val":"04","s":9},{"id":"AR","val":"05","s":23},{"id":"CA","val":"06","s":30},{"id":"CO","val":"08","s":15},{"id":"CT","val":"09","s":30},{"id":"DE","val":"10"},{"id":"DC","val":"11"},{"id":"FL","val":"12"},{"id":"FM","val":"64"},{"id":"GA","val":"13"},{"id":"GU","val":"66"},{"id":"HI","val":"15"},{"id":"ID","val":"16"},{"id":"IL","val":"17"},{"id":"IN","val":"18"},{"id":"IA","val":"19"},{"id":"KS","val":"20"},{"id":"KY","val":"21"},{"id":"LA","val":"22"},{"id":"ME","val":"23"},{"id":"MH","val":"68"},{"id":"MD","val":"24"},{"id":"MA","val":"25"},{"id":"MI","val":"26"},{"id":"MN","val":"27"},{"id":"MS","val":"28"},{"id":"MO","val":"29"},{"id":"MT","val":"30"},{"id":"NE","val":"31"},{"id":"NV","val":"32"},{"id":"NH","val":"33"},{"id":"NJ","val":"34"},{"id":"NM","val":"35"},{"id":"NY","val":"36"},{"id":"NC","val":"37"},{"id":"ND","val":"38"},{"id":"MP","val":"69"},{"id":"OH","val":"39"},{"id":"OK","val":"40"},{"id":"OR","val":"41"},{"id":"PW","val":"70"},{"id":"PA","val":"42"},{"id":"PR","val":"72"},{"id":"RI","val":"44"},{"id":"SC","val":"45"},{"id":"SD","val":"46"},{"id":"TN","val":"47"},{"id":"TX","val":"48","s":29},{"id":"UM","val":"74"},{"id":"UT","val":"49"},{"id":"VT","val":"50"},{"id":"VA","val":"51"},{"id":"VI","val":"78"},{"id":"WA","val":"53"},{"id":"WV","val":"54"},{"id":"WI","val":"55"},{"id":"WY","val":"56"}]')},118:function(t,e,a){},119:function(t,e,a){},204:function(t,e,a){"use strict";a.r(e);var n=a(2),i=a(4),r=a.n(i),c=a(45),o=a.n(c),s=(a(118),a(119),a(9)),d=a.n(s),l=a(37),u=a(8),j=a(76),f=a.n(j),v=a(38),b=a.n(v),h=a(19),p=a(41),O=a(218),g=a(104),x=a(220),m=a(56),y=a(57),A=a(107),M=a(105),w=a(42),S={position:"absolute",width:"100%",height:40,transform:"translate(0%, -50%)",cursor:"pointer"},C={position:"absolute",width:"100%",height:8,transform:"translate(0%, -50%)",borderRadius:4,pointerEvents:"none",backgroundColor:"rgb(155,155,155)"};function D(t){var e=t.getRailProps;return Object(n.jsxs)(i.Fragment,{children:[Object(n.jsx)("div",Object(h.a)({style:S},e())),Object(n.jsx)("div",{style:C})]})}function I(t){var e=Object(u.a)(t.domain,2),a=e[0],r=e[1],c=t.handle,o=c.id,s=c.value,d=c.percent,l=t.disabled,j=t.getHandleProps;return Object(n.jsxs)(i.Fragment,{children:[Object(n.jsx)("div",Object(h.a)({style:{left:"".concat(d,"%"),position:"absolute",transform:"translate(-50%, -50%)",WebkitTapHighlightColor:"rgba(0,0,0,0)",zIndex:5,width:24,height:42,cursor:"pointer",backgroundColor:"none"}},j(o))),Object(n.jsx)("div",{role:"slider","aria-valuemin":a,"aria-valuemax":r,"aria-valuenow":s,style:{left:"".concat(d,"%"),position:"absolute",transform:"translate(-50%, -50%)",zIndex:2,width:20,height:20,borderRadius:"50%",boxShadow:"1px 1px 1px 1px rgba(0, 0, 0, 0.3)",backgroundColor:l?"#666":"#333"}})]})}function N(t){var e=t.source,a=t.target,i=t.getTrackProps,r=t.disabled;return Object(n.jsx)("div",Object(h.a)({style:{position:"absolute",transform:"translate(0%, -50%)",height:8,zIndex:1,backgroundColor:r?"#999":"#444",borderRadius:4,cursor:"pointer",left:"".concat(e.percent,"%"),width:"".concat(a.percent-e.percent,"%")}},i()))}function k(t){var e=t.tick,a=t.count,i=t.format;return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{style:{position:"absolute",marginTop:14,width:1,height:5,backgroundColor:"rgb(200,200,200)",left:"".concat(e.percent,"%")}}),Object(n.jsx)("div",{style:{position:"absolute",marginTop:22,fontSize:10,textAlign:"center",fontFamily:"Arial, san-serif",marginLeft:"".concat(-100/a/2,"%"),width:"".concat(100/a,"%"),left:"".concat(e.percent,"%")},children:i(e.value)})]})}I.defaultProps={disabled:!1},N.defaultProps={disabled:!1},k.defaultProps={format:function(t){return t}};var P=a(206),T=a(216),E=a(219),L=a(77),F=a.n(L),R=(a(141),{position:"relative",width:"100%"});function V(t){return Object(P.default)(new Date(t),"MMM dd")}var W=function(t){Object(A.a)(a,t);var e=Object(M.a)(a);function a(t){var n;Object(m.a)(this,a),(n=e.call(this,t)).startSelect=function(t){n.setState({min:t})},n.endSelect=function(t){n.setState({max:t})},n.onChange=function(t){var e=Object(u.a)(t,1)[0];n.setState({selected:new Date(e)}),n.props.selectDate(Object(P.default)(new Date(e),"MM/dd/yyyy"))};var i=Object(T.a)();return n.state={selected:new Date("12/14/2020"),min:new Date("12/14/2020"),max:i},n}return Object(y.a)(a,[{key:"renderDateTime",value:function(t,e){return Object(n.jsxs)("div",{style:{width:"100%",textAlign:"center",fontFamily:"Arial",margin:5},children:[Object(n.jsxs)("div",{style:{paddingBottom:"1em",display:"flex",justifyContent:"center"},children:[Object(n.jsx)("label",{style:{padding:"0.1em"},children:"Start Date: "}),Object(n.jsx)(F.a,{selected:this.state.min,onSelect:this.startSelect}),Object(n.jsx)("label",{style:{padding:"0.1em",marginLeft:"2em"},children:"End Date: "}),Object(n.jsx)(F.a,{selected:this.state.max,onSelect:this.endSelect})]}),Object(n.jsxs)("div",{style:{fontSize:15},children:["Date Selected: ",Object(n.jsx)("b",{children:Object(P.default)(t,"MM/dd/yyyy")})]})]})}},{key:"render",value:function(){var t=this.state,e=t.min,a=t.max,i=t.selected,r=parseInt((a-e)/864e5,10),c=Object(E.a)().domain([e,a]).ticks(r>50?10:r).map((function(t){return+t}));return Object(n.jsxs)("div",{children:[this.renderDateTime(i,"Selected"),Object(n.jsx)("div",{style:{margin:"5%",height:120,width:"90%"},children:Object(n.jsxs)(w.c,{mode:1,step:864e5,domain:[+e,+a],rootStyle:R,onChange:this.onChange,values:[+i],children:[Object(n.jsx)(w.b,{children:function(t){var e=t.getRailProps;return Object(n.jsx)(D,{getRailProps:e})}}),Object(n.jsx)(w.a,{children:function(t){var i=t.handles,r=t.getHandleProps;return Object(n.jsx)("div",{children:i.map((function(t){return Object(n.jsx)(I,{handle:t,domain:[+e,+a],getHandleProps:r},t.id)}))})}}),Object(n.jsx)(w.e,{right:!1,children:function(t){var e=t.tracks,a=t.getTrackProps;return Object(n.jsx)("div",{children:e.map((function(t){var e=t.id,i=t.source,r=t.target;return Object(n.jsx)(N,{source:i,target:r,getTrackProps:a},e)}))})}}),Object(n.jsx)(w.d,{values:c,children:function(t){var e=t.ticks;return Object(n.jsx)("div",{children:e.map((function(t){return Object(n.jsx)(k,{tick:t,count:e.length,format:V},t.id)}))})}})]})})]})}}]),a}(i.Component),_=a(81),H={VT:[50,-8],NH:[34,2],MA:[30,-1],RI:[28,2],CT:[35,10],NJ:[34,1],DE:[33,0],MD:[47,10],DC:[49,21]},K=function(t){var e="https://datausa.io/api/data?drilldowns=State&measures=Population",a="https://datausa.io/api/data?drilldowns=Nation&measures=Population",r=Object(i.useState)([]),c=Object(u.a)(r,2),o=c[0],s=c[1],j=Object(i.useState)([]),f=Object(u.a)(j,2),v=f[0],m=f[1],y=Object(i.useState)([]),A=Object(u.a)(y,2),M=A[0],w=A[1],S=Object(i.useState)([]),C=Object(u.a)(S,2),D=C[0],I=C[1],N=Object(i.useState)(),k=Object(u.a)(N,2),E=k[0],L=k[1],F=Object(i.useState)(0),R=Object(u.a)(F,2),V=R[0],K=R[1],z=Object(i.useState)(""),U=Object(u.a)(z,2),G=U[0],J=U[1],Y=["#f0f9e8","#97d5c0","#4ba8c9","#1d79b5","#254b8c"];var B=Object(O.a)().domain(Object(g.a)(function(){var t=[];return v.forEach((function(e){e.data[0]&&e.data.forEach((function(a){return t.push(Q(e.val,a.count))}))})),t}())).nice().range(Y);function X(){return Z.apply(this,arguments)}function Z(){return(Z=Object(l.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get(e);case 2:a=t.sent,w(a.data.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(){return(q=Object(l.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get(a);case 2:e=t.sent,I(parseInt(e.data.data[0].Population));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Q(t,e){var a=M.filter((function(e){return e["ID State"].slice(-2)===t}))[0];return a?e/parseInt(a.Population)*100:0}function $(t,e){var a=[];return t.forEach((function(t){var n=t.data.filter((function(t){return t.title===e}))[0].data,i=[];n&&(i=n.map((function(t){return{date:t[0],count:parseInt(t[2])}}))),a.push(Object(h.a)(Object(h.a)({},t),{},{data:i}))})),a}function tt(t){var e=[];return t.forEach((function(t){var a=0,n=Object(h.a)({},t);n.data=Array.from(t.data);for(var i=0;i+1<t.data.length;i++){for(var r=new Date(t.data[i].date),c=new Date(t.data[i+1].date),o=parseInt((c-r)/864e5,10);o>1;)a++,r.setDate(r.getDate()+1),n.data.splice(a,0,{date:Object(P.default)(r,"MM/dd/yyyy"),count:t.data[i].count}),o--;a++}e.push(n)})),function(t){return t.forEach((function(t){if(t.data.length)for(var e=new Date(t.data[t.data.length-1].date),a=t.data[t.data.length-1].count,n=parseInt((Object(T.a)()-e)/864e5,10);n>0;)e.setDate(e.getDate()+1),t.data.push({date:Object(P.default)(e,"MM/dd/yyyy"),count:a}),n--})),t}(e)}function et(t,e){var a=[];return t.forEach((function(t){var n=t.data.filter((function(t){return t.date===e}));a.push(Object(h.a)(Object(h.a)({},t),{},{data:n}))})),console.log(a,e),function(t){var e=0;t.forEach((function(t){t.data.length&&(e+=t.data[0].count)})),K(e)}(a),a}Object(i.useEffect)((function(){console.log(t.data);var e=$(t.data,t.title);e=tt(e),m(e),s(et(e,"12/14/2020")),X(),function(){q.apply(this,arguments)}()}),[t.data]),Object(i.useEffect)((function(){var e=$(t.data,t.title);e=tt(e),m(e),s(et(e,E)),X()}),[t.title]),Object(i.useEffect)((function(){s(et(v,E))}),[E]);function at(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}return console.log(o),console.log(v),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(n.jsxs)("p",{children:["Total Count: ",Object(n.jsx)("b",{children:at(V)})]}),Object(n.jsxs)("p",{style:{paddingLeft:"1vw"},children:["% of US Population: ",Object(n.jsxs)("b",{children:[(V/D*100).toFixed(4),"%"]})]})]}),Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(n.jsx)("div",{style:{width:"75%"},children:Object(n.jsx)(p.ComposableMap,{"data-tip":"",projection:"geoAlbersUsa",children:Object(n.jsx)(p.Geographies,{geography:"https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json",children:function(e){var a=e.geographies;return Object(n.jsxs)(n.Fragment,{children:[a.map((function(e){var a,i=o.find((function(t){return t.val===e.id}));return Object(n.jsx)(p.Geography,{geography:e,fill:i&&i.data[0]?B(Q(i.val,i.data[0].count)):"#A9A9A9",onClick:(a=e.id,function(){var t=o.filter((function(t){return t.val===a}));t[0].data.length&&console.log(Q(a,t[0].data[0].count)),console.log(t)}),onMouseEnter:function(){var a=o.filter((function(t){return t.val===e.id})),r=Object(n.jsx)("p",{children:_[a[0].id]+": N/A"});a[0].data.length&&(r=Object(n.jsxs)("div",{children:[Object(n.jsx)("u",{children:_[a[0].id]}),Object(n.jsx)("p",{children:"Count: "+at(a[0].data[0].count)}),Object(n.jsx)("p",{children:"% of state population: "+Q(e.id,a[0].data[0].count).toFixed(4)+"%"})]})),t.setTooltipContent(r),J(i&&i.data[0]?B(Q(i.val,i.data[0].count)):"#A9A9A9")},onMouseLeave:function(){t.setTooltipContent(""),J("")}},e.rsmKey)})),a.map((function(t){var e=Object(x.a)(t),a=o.find((function(e){return e.val===t.id}));return Object(n.jsx)("g",{children:a&&e[0]>-160&&e[0]<-67&&(-1===Object.keys(H).indexOf(a.id)?Object(n.jsx)(p.Marker,{coordinates:e,children:Object(n.jsx)("text",{y:"2",fontSize:14,textAnchor:"middle",children:a.id})}):Object(n.jsx)(p.Annotation,{subject:e,dx:H[a.id][0],dy:H[a.id][1],children:Object(n.jsx)("text",{x:4,fontSize:14,alignmentBaseline:"middle",children:a.id})}))},t.rsmKey+"-name")}))]})}})})}),function(){var t=function(){var t=[];return Y.forEach((function(e){return t.push({color:e,range:B.invertExtent(e)})})),t}();return console.log(t),Object(n.jsxs)("div",{style:{marginLeft:"5%",marginTop:"10%"},children:[t.map((function(t,e){var a=Math.round(100*(t.range[0]+Number.EPSILON))/100,i=Math.round(100*(t.range[1]+Number.EPSILON))/100;return Object(n.jsxs)("div",{style:{display:"flex"},children:[G===Y[e]?Object(n.jsx)("div",{style:{backgroundColor:Y[e],padding:"0.5vw",outline:"3px solid red"}},e):Object(n.jsx)("div",{style:{backgroundColor:Y[e],padding:"0.5vw"}},e),Object(n.jsxs)("p",{style:{fontSize:"0.6vw",marginLeft:"1vw"},children:[a,"% - ",i,"%"]})]})})),Object(n.jsxs)("div",{style:{display:"flex",marginTop:"1vw"},children:["#A9A9A9"===G?Object(n.jsx)("div",{style:{backgroundColor:"#A9A9A9",padding:"0.5vw",outline:"3px solid red"}}):Object(n.jsx)("div",{style:{backgroundColor:"#A9A9A9",padding:"0.5vw"}}),Object(n.jsx)("p",{style:{fontSize:"0.6vw",marginLeft:"1vw"},children:"No Data Available"})]})]})}()]}),Object(n.jsx)(W,{selectDate:L})]})},z=a(103),U=a(106);function G(){var t="https://raw.githubusercontent.com/govex/COVID-19/master/data_tables/vaccine_data/raw_data/vaccine_data_us_state_timeline.csv",e="https://raw.githubusercontent.com/govex/COVID-19/master/data_tables/vaccine_data/raw_data/data_dictionary.csv",a=Object(i.useState)([]),r=Object(u.a)(a,2),c=r[0],o=r[1],s=Object(i.useState)("doses_admin_total"),j=Object(u.a)(s,2),v=j[0],h=j[1],p=Object(i.useState)([]),O=Object(u.a)(p,2),g=O[0],x=O[1],m=Object(i.useState)([]),y=Object(u.a)(m,2),A=y[0],M=y[1],w=Object(i.useState)(""),S=Object(u.a)(w,2),C=S[0],D=S[1];function I(t){if("people_total"===t)return"People Total 1st Dose";var e=t.split("_");return e.map((function(t,a){"alloc"===t&&(e[a]="allocated"),"admin"===t&&(e[a]="administered")})),e.map((function(t,a){e[a]=t[0].toUpperCase()+t.substring(1)})),e.join(" ")}function N(t){for(var e=[],a=0,n=Object.entries(t.data[0]);a<n.length;a++){var i=Object(u.a)(n[a],2),r=i[0],c=(i[1],{});c.title=r,c.data=[],e.push(c)}for(var s=function(a){t.data.forEach((function(t){""!==t[e[a].title]&&void 0!==t[e[a].title]&&" "!==t[e[a].title]&&e[a].data.push([t.date,t.stabbr,t[e[a].title]])}))},d=4;d<e.length;d++)s(d);var l=e.slice(4);console.log(l),function(t){var e=[];t.forEach((function(t){e.push(t.title)})),x(e)}(l),function(t){var e=[];z.forEach((function(a){e.push({id:a.id,val:a.val,data:P(t,a.id)})})),o(e)}(l)}function k(t){var e=[];t.data.forEach((function(t){e.push(t)})),M(e.slice(4,e.length-1))}function P(t,e){var a=[];return t.forEach((function(t){var e={};e.title=t.title,e.data=[],a.push(e)})),a.forEach((function(a,n){a.data=t[n].data.filter((function(t){return t[1]===e}))})),a}function T(){var t=A.filter((function(t){return t.column_name===v}))[0];if(t)return t.definition}return Object(i.useEffect)((function(){function a(){return(a=Object(l.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(t).then((function(t){return f.a.parse(t.data,{header:!0})}));case 2:N(e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(l.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get(e).then((function(t){return f.a.parse(t.data,{header:!0})}));case 2:k(t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}(),function(){n.apply(this,arguments)}()}),[]),console.log(c),console.log(v),Object(n.jsxs)("div",{style:{marginLeft:"18%",width:"60%"},children:[Object(n.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(n.jsxs)("div",{style:{padding:"1.4vw"},children:[Object(n.jsx)("label",{for:"titles",children:"Choose Data: "}),Object(n.jsx)("select",{name:"titles",id:"titles",onChange:function(t){return h(t.target.value)},value:v,children:g.map((function(t){return Object(n.jsx)("option",{value:t,children:I(t)})}))})]}),Object(n.jsx)("div",{children:Object(n.jsx)("h2",{style:{fontWeight:"lighter"},children:T()})})]}),Object(n.jsx)(K,{data:c,title:v,setTooltipContent:D}),Object(n.jsx)(U.a,{children:C})]})}var J=function(){return Object(n.jsx)(G,{})},Y=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,223)).then((function(e){var a=e.getCLS,n=e.getFID,i=e.getFCP,r=e.getLCP,c=e.getTTFB;a(t),n(t),i(t),r(t),c(t)}))};o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(J,{})}),document.getElementById("root")),Y()},81:function(t){t.exports=JSON.parse('{"AL":"Alabama","AK":"Alaska","AS":"American Samoa","AZ":"Arizona","AR":"Arkansas","CA":"California","CO":"Colorado","CT":"Connecticut","DE":"Delaware","DC":"District Of Columbia","FM":"Federated States Of Micronesia","FL":"Florida","GA":"Georgia","GU":"Guam","HI":"Hawaii","ID":"Idaho","IL":"Illinois","IN":"Indiana","IA":"Iowa","KS":"Kansas","KY":"Kentucky","LA":"Louisiana","ME":"Maine","MH":"Marshall Islands","MD":"Maryland","MA":"Massachusetts","MI":"Michigan","MN":"Minnesota","MS":"Mississippi","MO":"Missouri","MT":"Montana","NE":"Nebraska","NV":"Nevada","NH":"New Hampshire","NJ":"New Jersey","NM":"New Mexico","NY":"New York","NC":"North Carolina","ND":"North Dakota","MP":"Northern Mariana Islands","OH":"Ohio","OK":"Oklahoma","OR":"Oregon","PW":"Palau","PA":"Pennsylvania","PR":"Puerto Rico","RI":"Rhode Island","SC":"South Carolina","SD":"South Dakota","TN":"Tennessee","TX":"Texas","UT":"Utah","VT":"Vermont","VI":"Virgin Islands","VA":"Virginia","WA":"Washington","WV":"West Virginia","WI":"Wisconsin","WY":"Wyoming"}')}},[[204,1,2]]]);
//# sourceMappingURL=main.6dd1c376.chunk.js.map