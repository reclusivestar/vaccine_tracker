[{"C:\\Users\\tanma\\Desktop\\covid\\vaccine\\src\\index.js":"1","C:\\Users\\tanma\\Desktop\\covid\\vaccine\\src\\App.js":"2","C:\\Users\\tanma\\Desktop\\covid\\vaccine\\src\\reportWebVitals.js":"3","C:\\Users\\tanma\\Desktop\\covid\\vaccine\\src\\Vaccine\\Vaccine.jsx":"4","C:\\Users\\tanma\\Desktop\\covid\\vaccine\\src\\Map\\Map.jsx":"5","C:\\Users\\tanma\\Desktop\\covid\\vaccine\\src\\Map\\components.js":"6","C:\\Users\\tanma\\Desktop\\covid\\vaccine\\src\\Map\\Time.jsx":"7","C:\\Users\\tanma\\Desktop\\covid\\vaccine\\src\\Home.jsx":"8"},{"size":500,"mtime":499162500000,"results":"9","hashOfConfig":"10"},{"size":158,"mtime":1611276649365,"results":"11","hashOfConfig":"10"},{"size":362,"mtime":499162500000,"results":"12","hashOfConfig":"10"},{"size":5525,"mtime":1611200014524,"results":"13","hashOfConfig":"10"},{"size":12184,"mtime":1611432085307,"results":"14","hashOfConfig":"10"},{"size":4746,"mtime":1610923666397,"results":"15","hashOfConfig":"10"},{"size":5841,"mtime":1611432268453,"results":"16","hashOfConfig":"10"},{"size":2706,"mtime":1611376039702,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"vi5i8c",{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"20"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"20"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"35","messages":"36","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"20"},"C:\\Users\\tanma\\Desktop\\covid\\vaccine\\src\\index.js",[],["38","39"],"C:\\Users\\tanma\\Desktop\\covid\\vaccine\\src\\App.js",["40"],"import './App.css';\nimport Vaccine from './Vaccine/Vaccine';\nimport Home from './Home';\n\nfunction App() {\n  return (\n    <Home />\n  );\n}\n\nexport default App;\n","C:\\Users\\tanma\\Desktop\\covid\\vaccine\\src\\reportWebVitals.js",[],"C:\\Users\\tanma\\Desktop\\covid\\vaccine\\src\\Vaccine\\Vaccine.jsx",["41","42","43","44"],"import React, { useState, useEffect } from 'react';\r\nimport Papa from 'papaparse';\r\nimport axios from 'axios';\r\nimport Map from '../Map/Map';\r\nimport states from '../Map/states.json';\r\nimport ReactTooltip from 'react-tooltip';\r\nimport { useMediaQuery } from 'react-responsive';\r\n\r\nexport default function Vaccine() {\r\n\r\n    const url = \"https://raw.githubusercontent.com/govex/COVID-19/master/data_tables/vaccine_data/raw_data/vaccine_data_us_state_timeline.csv\";\r\n    const definitions_url = \"https://raw.githubusercontent.com/govex/COVID-19/master/data_tables/vaccine_data/raw_data/data_dictionary.csv\";\r\n\r\n    const [allData, setAllData] = useState([]); //in time series\r\n    const [subject, setSubject] = useState(\"doses_admin_total\");\r\n    const [allTitles, setAllTitles] = useState([]);\r\n    const [allDefinitions, setAllDefinitions] = useState([]);\r\n    const [content, setContent] = useState(\"\");\r\n\r\n    const isMobile = useMediaQuery({ query: `(max-width: 760px)` });\r\n    \r\n    function extractTitles(allData) {\r\n        const titles = [];\r\n        allData.forEach(data => {\r\n            titles.push(data.title)\r\n        })\r\n        setAllTitles(titles);\r\n    }\r\n\r\n    function formatTitle(title){\r\n        if (title === \"people_total\")\r\n            return \"People Total 1st Dose\";\r\n\r\n        let newTitle = title.split('_');\r\n        newTitle.map((word, i) => {\r\n            if (word === \"alloc\")\r\n                newTitle[i] = \"allocated\";\r\n            if (word === \"admin\")\r\n                newTitle[i] = \"administered\";\r\n        })\r\n        newTitle.map((word, i) => {\r\n            newTitle[i] = word[0].toUpperCase() + word.substring(1);\r\n        })\r\n        return newTitle.join(' ');\r\n    }\r\n    \r\n    function transformData(raw){\r\n        let results = [];\r\n        for (const [key, _] of Object.entries(raw.data[0])) {\r\n            let field = {};\r\n            field[\"title\"] = key;\r\n            field[\"data\"] = [];\r\n            results.push(field);\r\n        }\r\n        // filter empty data for each key\r\n\r\n        for (let i = 4; i < results.length; i++){\r\n            raw.data.forEach(field => {\r\n                if (field[results[i].title] !== \"\" && field[results[i].title] !== undefined\r\n                 && field[results[i].title] !== \" \"){\r\n                    results[i].data.push([field[\"date\"], field[\"stabbr\"], field[results[i].title]]);\r\n                }\r\n            })\r\n        }\r\n        let valid_results = results.slice(4);\r\n        console.log(valid_results);\r\n        extractTitles(valid_results);\r\n        getDataByState(valid_results);\r\n    }\r\n\r\n    function transformDataDefinitions(csv){\r\n        let definitions = [];\r\n        csv.data.forEach(col => {\r\n            definitions.push(col);\r\n        });\r\n        setAllDefinitions(definitions.slice(4, definitions.length - 1));\r\n    }\r\n\r\n    useEffect(() => {\r\n        async function fetchCSV(){\r\n            const csv = await axios.get(url).then(response => \r\n                Papa.parse(response.data,\r\n                          { header: true }));\r\n            transformData(csv);\r\n        }\r\n        async function fetchDefinitions(){\r\n            const csv = await axios.get(definitions_url).then(response => \r\n                Papa.parse(response.data,\r\n                          { header: true }));\r\n            transformDataDefinitions(csv);\r\n        }\r\n        fetchCSV();\r\n        fetchDefinitions();\r\n    }, []);\r\n\r\n    function filterState(raw, state){\r\n        let latest = [];\r\n        raw.forEach(row => {\r\n            let field = {};\r\n            field[\"title\"] = row.title;\r\n            field[\"data\"] = [];\r\n            latest.push(field);\r\n        });\r\n        latest.forEach((field, i) => {\r\n            field.data = raw[i].data.filter(data => data[1] === state);\r\n        });\r\n        return latest;\r\n    };\r\n\r\n    function getDataByState(data){\r\n        let latest_all = [];\r\n        states.forEach(state => {\r\n            latest_all.push({\"id\" : state.id, \"val\" : state.val, data : filterState(data, state.id)});\r\n        });\r\n        setAllData(latest_all);\r\n    }\r\n\r\n    function getDefinition() {\r\n        let data = allDefinitions.filter(def => def.column_name === subject)[0];\r\n        if (data)\r\n            return data.definition;\r\n    }\r\n\r\n    function chooseSubject(){\r\n        return (\r\n            <div style={{display: \"flex\", flexDirection: isMobile? \"column\" : \"\", justifyContent: \"center\"}}> \r\n                <div style={{padding: \"1.4vw\"}}>\r\n                    <label style={{paddingLeft: isMobile? \"5%\" : \"\"}} for=\"titles\">Filter Data: </label>\r\n                    <select name=\"titles\" id=\"titles\" onChange={(e) => setSubject(e.target.value)} value={subject}>\r\n                    {allTitles.map(title => {\r\n                        return(\r\n                            <option value={title}>{formatTitle(title)}</option>\r\n                        )}\r\n                    )}\r\n                    </select>\r\n                </div>\r\n                <div style={{textAlign: isMobile? \"center\" : \"\"}}>\r\n                    <h2 style={{fontWeight: \"lighter\"}}>{getDefinition()}</h2>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    console.log(allData);\r\n    console.log(subject);\r\n    return ( \r\n        <div style={{marginLeft: isMobile? \"5%\" : \"18%\", width: isMobile? \"90%\" : \"60%\"}}>\r\n            {chooseSubject()}\r\n            <Map data={allData} title={subject} setTooltipContent={setContent}/>\r\n            <ReactTooltip>{content}</ReactTooltip>\r\n        </div>\r\n    );\r\n}","C:\\Users\\tanma\\Desktop\\covid\\vaccine\\src\\Map\\Map.jsx",["45","46","47","48","49"],"C:\\Users\\tanma\\Desktop\\covid\\vaccine\\src\\Map\\components.js",[],"C:\\Users\\tanma\\Desktop\\covid\\vaccine\\src\\Map\\Time.jsx",["50","51"],"C:\\Users\\tanma\\Desktop\\covid\\vaccine\\src\\Home.jsx",["52","53","54","55"],"import React, { useRef } from 'react'\r\nimport {\r\n  Hero, ScrollDownIndicator\r\n} from 'react-landing-page';\r\nimport Vaccine from './Vaccine/Vaccine';\r\nimport heroImage from './media/vaccine.png';\r\nimport linkedin from './media/linkedin.png';\r\nimport github from './media/github.png';\r\nimport portfolio from './media/portfolio.png'\r\nimport { useMediaQuery } from 'react-responsive';\r\n \r\nexport default function Home() {\r\n    const myRef = useRef(null);\r\n    const executeScroll = () => myRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n    const isMobile = useMediaQuery({ query: `(max-width: 760px)` });\r\n    return (\r\n        <div>\r\n            <Hero\r\n            color=\"white\"\r\n            backgroundImage={heroImage}\r\n            >\r\n                <h1 style={{fontSize: isMobile? \"2em\" : \"5em\", fontWeight: \"lighter\", textAlign: \"center\"}}>COVID-19 Vaccine Tracker</h1>\r\n                <h3 style={{fontWeight: \"lighter\"}}>Source: John Hopkins University  <a style = {{color: \"white\"}}\r\n                href=\"https://github.com/govex/COVID-19/tree/master/data_tables/vaccine_data/raw_data\" target=\"_blank\">\r\n                (Data)</a>\r\n                <br />\r\n                Web development: Tanmay Kumar \r\n                </h3>\r\n                <br />\r\n                <i>Updated Daily</i>\r\n\r\n                <ScrollDownIndicator style={{cursor: \"pointer\"}} onClick={executeScroll}/>\r\n            </Hero>\r\n            <div style={{marginTop: \"2em\"}} ref={myRef}>\r\n                <Vaccine  />\r\n            </div>\r\n            <footer style={{ display: \"flex\", justifyContent: \"center\", \r\n            color: \"white\", textAlign: \"center\", background: \"black\", flexShrink: \"0\", padding: \"20px\"}} class=\"footer\">\r\n                <div style={{marginLeft: \"-1vw\"}}>\r\n                    <a href=\"https://www.linkedin.com/in/tkumar01/\" target=\"_blank\">\r\n                    <img style={{paddingRight: \"1em\"}} width={\"30em\"} src={linkedin} alt=\"linkedin\" /> \r\n                    </a>\r\n                    <a href=\"https://portfolio-tanmay.herokuapp.com/\" target=\"_blank\">\r\n                    <img style={{paddingRight: \"1em\"}} width={\"30em\"} src={portfolio} alt=\"portfolio\" /> \r\n                    </a>\r\n                    <a href=\"https://github.com/reclusivestar/vaccine_tracker\" target=\"_blank\">\r\n                    <img width={\"30em\"} src={github} alt=\"github\" /> \r\n                    </a>\r\n                    <div style={{fontWeight: \"lighter\"}}>\r\n                    <p>Contact: tanmaysk1@gmail.com</p>\r\n                    <p>Sponsored by: Samuchit Consultancy Service India Pvt Ltd.</p>\r\n                    </div>\r\n                </div>\r\n            </footer>\r\n        </div>\r\n    );\r\n}",{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","replacedBy":"59"},{"ruleId":"60","severity":1,"message":"61","line":2,"column":8,"nodeType":"62","messageId":"63","endLine":2,"endColumn":15},{"ruleId":"64","severity":1,"message":"65","line":35,"column":32,"nodeType":"66","messageId":"67","endLine":35,"endColumn":34},{"ruleId":"64","severity":1,"message":"65","line":41,"column":32,"nodeType":"66","messageId":"67","endLine":41,"endColumn":34},{"ruleId":"60","severity":1,"message":"68","line":49,"column":26,"nodeType":"62","messageId":"63","endLine":49,"endColumn":27},{"ruleId":"69","severity":1,"message":"70","line":94,"column":8,"nodeType":"71","endLine":94,"endColumn":10,"suggestions":"72"},{"ruleId":"60","severity":1,"message":"73","line":82,"column":9,"nodeType":"62","messageId":"63","endLine":82,"endColumn":22},{"ruleId":"69","severity":1,"message":"74","line":98,"column":6,"nodeType":"71","endLine":98,"endColumn":18,"suggestions":"75"},{"ruleId":"69","severity":1,"message":"76","line":107,"column":6,"nodeType":"71","endLine":107,"endColumn":19,"suggestions":"77"},{"ruleId":"69","severity":1,"message":"78","line":112,"column":6,"nodeType":"71","endLine":112,"endColumn":20,"suggestions":"79"},{"ruleId":"60","severity":1,"message":"80","line":157,"column":12,"nodeType":"62","messageId":"63","endLine":157,"endColumn":26},{"ruleId":"60","severity":1,"message":"81","line":1,"column":20,"nodeType":"62","messageId":"63","endLine":1,"endColumn":29},{"ruleId":"60","severity":1,"message":"82","line":4,"column":10,"nodeType":"62","messageId":"63","endLine":4,"endColumn":22},{"ruleId":"83","severity":1,"message":"84","line":23,"column":86,"nodeType":"85","endLine":24,"endColumn":120},{"ruleId":"83","severity":1,"message":"84","line":40,"column":21,"nodeType":"85","endLine":40,"endColumn":85},{"ruleId":"83","severity":1,"message":"84","line":43,"column":21,"nodeType":"85","endLine":43,"endColumn":87},{"ruleId":"83","severity":1,"message":"84","line":46,"column":21,"nodeType":"85","endLine":46,"endColumn":96},"no-native-reassign",["86"],"no-negated-in-lhs",["87"],"no-unused-vars","'Vaccine' is defined but never used.","Identifier","unusedVar","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'_' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'transformData'. Either include it or remove the dependency array.","ArrayExpression",["88"],"'findFirstDiff' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'filterDate' and 'props.title'. Either include them or remove the dependency array.",["89"],"React Hook useEffect has missing dependencies: 'filterDate', 'props.data', and 'selectedTime'. Either include them or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setAllStates' needs the current value of 'selectedTime'.",["90"],"React Hook useEffect has missing dependencies: 'filterDate' and 'timeSeries'. Either include them or remove the dependency array. You can also replace multiple useState variables with useReducer if 'setAllStates' needs the current value of 'timeSeries'.",["91"],"'makeContinuous' is defined but never used.","'useEffect' is defined but never used.","'startOfToday' is defined but never used.","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXOpeningElement","no-global-assign","no-unsafe-negation",{"desc":"92","fix":"93"},{"desc":"94","fix":"95"},{"desc":"96","fix":"97"},{"desc":"98","fix":"99"},"Update the dependencies array to be: [transformData]",{"range":"100","text":"101"},"Update the dependencies array to be: [filterDate, props.data, props.title]",{"range":"102","text":"103"},"Update the dependencies array to be: [filterDate, props.data, props.title, selectedTime]",{"range":"104","text":"105"},"Update the dependencies array to be: [filterDate, selectedTime, timeSeries]",{"range":"106","text":"107"},[3408,3410],"[transformData]",[3061,3073],"[filterDate, props.data, props.title]",[3338,3351],"[filterDate, props.data, props.title, selectedTime]",[3475,3489],"[filterDate, selectedTime, timeSeries]"]